
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    #box {
      width: 600px;
      margin: 200px auto;
    }

    #txt {
      width: 480px;
      height: 19px;
    }

    #pop {
      width: 350px;
      border: 1px solid red;
    }

    #pop ul {
      margin: 10px;
      padding: 0px;
      width: 200px;
      list-style-type: none;
    }

    #pop ul li {

    }
  </style>
</head>
<body>

<div id="box">
  <input type="text" id="txt" value="">
  <input type="button" value="搜索" id="btn">

</div>

<script src="common.js"></script>
<script>


  var keyWords = ["小杨才是最纯洁的", "小杨才是最帅的", "小段是最猥琐的", "小超是最龌龊的", "传智播客是一个培训机构", "传说在传智有个很帅很纯洁的小杨", "苹果好吃", "苹果此次召回还是没有中国"];

  	//获取文本框 注册键盘抬起事件
  	document.getElementById("txt").onkeyup=function()
  	{
  		//修复删除文字还有div的bug
  		//每一次的键盘抬起都判断页面中有没有这个div 
  		if(my("dv"))
  		{
  			//删除一次
  			my("box").removeChild(my("dv"));
  		}



  		//获取文本框的内容
  		var text=this.value;
  		//建立临时数组 存放匹配上的字符串
  		var tempArr=[];
  		//把文本框输入的内容和数组中的每个数据对比
  		for (var i = 0; i < keyWords.length; i++) 
  		{
  				//indexof()查询索引 在数组中可以找到一个给定元素的第一个索引 返回值从0开始)
  				//是否是最开始出现的
  				if(keyWords[i].indexOf(text)==0)
  				{
  					//push方法：向数组追加字符串
  					tempArr.push(keyWords[i]);
  				}
  		}

  		//临时数组有数据
		console.log(tempArr);

		//如果文本框是空的 临时数组是空的 不用创建div
			if(this.value.length==0||tempArr.length==0)
			{
				//如果页面中有这个div 删除这个div
				if(my("dv"))
				{
					my("box").removeChild(my("dv"));
				}
				//然后函数结束运行 后面的创建div就不用进行
				return;
			}

		//创建div 把div加入id为box的div中
		var divobj=document.createElement("div");
		my("box").appendChild(divobj);
		divobj.id="dv";
		divobj.style.width="482px";
		divobj.style. border="1px solid pink";

		//遍历临时数组 创建p标签 将临时数组的数据放到div里面 
		for (var i = 0; i < tempArr.length; i++) 
		{
			//创建p标签
			var pobj=document.createElement("p");
			//将p追加到创建的div中
			divobj.appendChild(pobj);
			//将临时数组的内容存入到p中
			pobj.innerHTML=tempArr[i];
			//给p设置样式
			pobj.style.margin=0;
			pobj.style.padding=0;
			pobj.style.cuesor="pointer";
			pobj.style.marginTop="5px";
			pobj.style.marginLetf="10px";
			//鼠标进入事件
			pobj.onmouseover=function()
			{
				this.style.backgroundColor="pink";
			}
			//鼠标离开事件
			pobj.onmouseout=function()
			{
				this.style.backgroundColor="";
			}
		}
  	}
</script>

</body>
</html>